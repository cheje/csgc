{"version":3,"sources":["Header.jsx","Introduction.jsx","StackedBars.jsx","Dataset.jsx","Portfolios.jsx","Bubbles.jsx","CR.jsx","Scrollytelling.jsx","Shiny.jsx","Map3D.jsx","config.js","End.jsx","Footer.jsx","App.jsx","index.js","img/shiny-expenses.png","img/shiny-cr.png","img/GitHub-Mark-Light-64px.png"],"names":["Header","className","style","marginTop","fontWeight","textTransform","fontFamily","fontSize","fontStyle","lineHeight","Background","paddingTop","href","target","StackedBars","svgRef","useRef","useEffect","d3","then","data","years","Set","map","d","tcie_year","push","sort","keys","console","log","boros","dimensions","width","height","margin","top","bottom","left","right","boundedWidth","boundedHeight","svg","current","attr","xScale","domain","range","padding","yScale","nice","yGrid","tickFormat","tickSize","scale","append","call","colorScale","stackedBarsData","stackedBarsGen","selectAll","join","key","bandwidth","xAxis","ticks","length","tickSizeOuter","text","yAxis","borosRev","reverse","i","ref","display","Dataset","color","Portfolios","Bubbles","fetch","response","json","colors","root","size","children","sum","buildings","bubble","tooltip","node","enter","x","y","circle","r","boro_names","on","e","select","html","ownername","this","pageY","pageX","label","substring","transition","ease","duration","alt","CR","Scrollytelling","projection","fitSize","features","points","plot","geometry","coordinates","cr","properties","cr_pct","callbacks","exp_pct","scrollama","setup","step","onStepEnter","index","element","onStepExit","id","class","Shiny","paddingBottom","src","expensesSS","boxShadow","crSS","textAlign","layerTypes","alignments","transformRequest","url","hasQuery","indexOf","Chapter","theme","title","image","description","link","headline","classList","currentChapterID","Map","props","state","currentChapter","chapters","config","mapStart","location","mapboxgl","accessToken","container","mapContainer","center","zoom","pitch","bearing","marker","Marker","setLayerOpacity","layer","layerType","getLayer","type","getLayerPaintType","forEach","prop","setPaintProperty","opacity","showMarkers","setLngLat","addTo","setState","bind","scroller","offset","progress","chapter","find","chap","flyTo","onChapterEnter","onChapterExit","window","addEventListener","resize","position","el","subtitle","byline","alignment","footer","Component","process","End","Footer","justifyContent","ghLogo","App","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.0e47ec45.chunk.js","sourcesContent":["import React from \"react\"\nimport './index.css'\n\nexport default function Header() {\n    return (\n        <div className=\"header\">\n            <section>\n                <h1 className=\"header--title\">\n                    Disrepair, Displacement and Distress\n                </h1>\n                <h3 className=\"header--subhead\">\n                    Finding Housing Stories Through Data Visualizations\n                </h3>\n                <p style={{ marginTop: '-15px', fontWeight: 'bold', textTransform: 'uppercase', fontFamily: 'Roboto Condensed', fontSize: '0.85em' }}>By Jennifer Cheng</p>\n                <p style={{ fontStyle: 'italic', fontFamily: 'Roboto', fontSize: '0.8em', lineHeight: '1.2' }}>This project comprises the digital component of the capstone requirement for the M.S. Data Analysis and Visualization program at the CUNY Graduate Center. The text below pulls from portions of the white paper.</p>\n            </section>\n        </div>\n    )\n}","import React from \"react\"\nimport './index.css'\n\nexport default function Background() {\n    return (\n            <section style={{paddingTop: \"50px\"}}>\n                {/* <h4 className=\"subhead\" style={{paddingTop: \"50px\"}}>Background</h4> */}\n                <p>\n                In the first year of the COVID-19 pandemic, news and opinion headlines in New York City’s leading newspapers painted, for some audiences, an alarming effect on city real estate – rich neighborhoods \"<a href='https://www.nytimes.com/interactive/2020/05/15/upshot/who-left-new-york-coronavirus.html' target='_blank'>emptied out</a>\", the pandemic has \"<a href='https://nypost.com/2020/07/10/covid-19-has-broken-nycs-housing-market/' target='_blank'>broken</a>\" the housing market, data show a \"<a href='https://nypost.com/2020/11/14/new-stats-reveal-massive-nyc-exodus-amid-coronavirus-crime/' target='_blank'>massive NYC exodus</a>.\" Then, just a year later, still amid the pandemic, the housing market has \"<a href='https://www.nytimes.com/2021/10/05/realestate/new-york-real-estate-sales.html' target='_blank'>surged</a>\", \"<a href='https://www.nytimes.com/2021/12/29/nyregion/chelsea-nyc-coronavirus.html' target='_blank'>bounce[d] back</a>\", \"made a <a href='https://www.nytimes.com/2021/12/31/realestate/in-2021-new-yorks-housing-market-made-a-stunning-comeback.html' target='_blank'>stunning comeback</a>\", and \"<a href='https://www.wsj.com/articles/manhattan-luxury-home-sales-skyrocketed-in-2021-11641301201' target='_blank'>skyrocketed</a>.\" These headlines would suggest that real estate has not just recovered, but could be on the verge of a boom, to follow the cycle described in the report \"Corporate Windfalls or Social Housing Conversions?\" released in November 2020 by the nonprofit Community Service Society of New York. The market undulates from a high at the \"euphoria\" stage to a low at the \"crisis\" stage but despite these contrasting names, for speculators and investors, each stage whether high or low strike to make money while for many tenants living in buildings of interest, the cycle appears more as a line, of ongoing rent increases and lack of maintenance (Hornbach et al. 4). The pandemic certainly initiated extraordinary circumstances that left many unable to pay their rent and debts mounted for both tenants and landlords, with foreclosures seemingly inevitable.\n                </p>\n                <p>\n                But at the root of these tensions is the reality that tenant fears of displacement, a lack of building maintenance, changing ownership, stretch back to years before the pandemic. A tendency of some city landlords and and investors to take questionable approaches in the pursuit of profit stem back a quarter of a century (3). The practice of perceiving housing as an investment vehicle for making profits is described as real estate speculation. In pursuit of profit, landlords can end up engaging in predatory practices that drive out long-time tenants in favor of higher-income occupants (Klein et al. 19). The headlines and the real estate cycle, obscure the reality for many renters, in a city where <a href='https://furmancenter.org/stateofthecity/view/state-of-renters-and-their-homes' target='_blank'>two-thirds rent</a> their home – that much of the housing crises of the past nearly two years did not emerge during the onset of the pandemic; rather the pandemic exacerbated a housing market debacle some 25 years in the making, following lending deregulations, cuts in urban funding, and the increasing growth and influence of the financial service industry (Hornbach et al. 2020, 8; Klein et al., n.d., 20).\n                </p>\n                <p>For my capstone project, with the precarious NYC housing market, and speculation, as the backdrop, I will explore a dataset of Tax Commission Income and Expense (TCIE) filings and see how data visualizations can help navigate the contents and potentially find stories of displacement and distress.</p>\n            </section>\n    )\n}","import React, { useRef, useEffect } from 'react'\nimport * as d3 from 'd3'\nimport './index.css'\n\nexport default function StackedBars() {\n\n    const svgRef = useRef()\n    \n    useEffect(() => {\n\n        d3.csv('https://gist.githubusercontent.com/cheje/03a298076db3822e04faaf9b21aadf80/raw/68676b3d01476af66d2bd461136978b655c610b6/tcie-bars.csv')\n        .then(data => {\n\n            // create categories (years) for x-axis\n            let years = [...new Set(data.map(d => d.tcie_year))]\n            years.push('2007', '2012', '2016')\n            years.sort()\n            years.keys()\n            console.log(years)\n\n            // create stacks for each year\n            // const boros = [...new Set(data.map(d => d.boro_name))]\n            const boros = ['Manhattan', 'Bronx', 'Brooklyn', 'Queens', 'Staten Island']\n            console.log(boros)\n\n            // wrapper dimensions (following format in A. Wattenberger's 'Fullstack D3')\n            const dimensions = {\n                // width: window.innerWidth*0.8,\n                // height: window.innerHeight*0.6,\n                width: 800,\n                height: 400,\n                margin: { top: 10, bottom: 50, left: 90, right: 50 }\n            }\n\n            // bounds dimensions\n            dimensions.boundedWidth = dimensions.width\n             - dimensions.margin.left\n             - dimensions.margin.right\n\n             dimensions.boundedHeight = dimensions.height\n             - dimensions.margin.top\n             - dimensions.margin.bottom\n\n            // set up svg container\n            const svg = d3.select(svgRef.current)\n                .attr('width', dimensions.width)\n                .attr('height', dimensions.height)\n\n            // scales\n            const xScale = d3.scaleBand() // ordinal data\n                .domain(years)\n                .range([dimensions.margin.left, dimensions.boundedWidth])\n                .padding([0.2])\n\n            const yScale = d3.scaleLinear()\n                .domain([0, 16000])\n                .range([dimensions.boundedHeight, dimensions.margin.left])\n                .nice()\n            \n            // horizontal gridlines\n            const yGrid = d3.axisLeft()\n                .tickFormat('')\n                .tickSize(-dimensions.boundedWidth + dimensions.margin.left)\n                .scale(yScale)\n\n            svg.append('g')\n                .attr('class', 'y-gridlines')\n                .attr('transform', `translate(${dimensions.margin.left}, 0)`)\n                .call(yGrid)\n\n            // color scale\n            const colorScale = d3.scaleOrdinal()\n                .domain(boros)\n                .range(['#355070', '#6d597a', '#b56576', '#e56b6f', '#eaac8b'])\n            \n            // generate bar stacks\n            const stackedBarsGen = d3.stack()\n                .keys(boros)\n        \n            const stackedBarsData = stackedBarsGen(data)\n\n            // plot bars\n            svg.append('g')\n                .selectAll('g')\n                .data(stackedBarsData)\n                .join('g')\n                .attr('fill', d => colorScale(d.key))\n                .selectAll('rect')\n                .data(d => d)\n                .join('rect')\n                    .attr('x', d => xScale(d.data.tcie_year))\n                    .attr('y', d => yScale(d[1]))\n                    .attr('height', d => yScale(d[0]) - yScale(d[1]))\n                    .attr('width', xScale.bandwidth())\n\n            // x axis\n            const xAxis = d3.axisBottom(xScale)\n                .ticks(years.length)\n                .tickSizeOuter(0)\n\n            svg.append('g')\n                .attr('class', 'x-axis')\n                .attr('transform', `translate(0, ${dimensions.boundedHeight})`)\n                .call(xAxis)\n                .style('text-anchor', 'middle')\n                .attr('dy', '1em')\n                // axis label:\n                .append('text')\n                .attr('x', '75%')\n                .attr('dy', '3.25em')\n                .text('Year of TCIE Filing')\n                \n\n            // y axis\n            const yAxis = d3.axisLeft(yScale)\n\n            svg.append('g')\n                .attr('class', 'y-axis')\n                .attr('transform', `translate(${dimensions.margin.left}, 0)`)\n                .call(yAxis)\n                // axis label:\n                .append('text')\n                .attr('y', '-5em')\n                .attr('dx', '-10%')\n                .attr('transform', 'rotate(270)')\n                .text('Number of TCIE BBLs Found in PLUTO')\n\n            // LEGEND\n            \n            // rev order of boros to match bar color order\n            const borosRev = boros.reverse()\n\n            // squares\n            svg.append('g')\n                .selectAll(\"squares\")\n                .data(borosRev)\n                .join('rect')\n                    .attr(\"x\", '85%')\n                    .attr(\"y\", (d, i) => (90 + i*20))\n                    .attr(\"height\", 10)\n                    .attr(\"width\", 10)\n                    .style(\"fill\", d => colorScale(d))\n              \n              // label\n            svg.append('g')\n                .selectAll(\"labels\")\n                .data(borosRev)\n                .join(\"text\")\n                  .attr(\"x\", '87%')\n                  .attr(\"y\", (d, i) => (100 + i*20)) \n                  .style(\"fill\", d => colorScale(d))\n                  .text(d => d)\n                  .style('font-family', 'Roboto')\n                  .style('font-size', '0.75em')\n            \n            // TITLE\n            svg.append('text')\n                .attr('y', '2em')\n                .text('TCIE Filings by Borough')\n                .attr('class', 'chart--title')\n\n            // sources:\n            // https://www.d3-graph-gallery.com/graph/barplot_stacked_hover.html\n            // http://using-d3js.com/05_06_stacks.html\n            // https://github.com/muratkemaldar/using-react-hooks-with-d3/blob/15-stacked-bar-chart/src/StackedBarChart.js\n        })\n}, [])\n    \n    \n\n    return (\n        <div>\n             <svg ref={svgRef} style={{ display: 'block', margin: 'auto' }}>\n                 <g />\n             </svg>\n        </div>\n    )\n}","import React from \"react\"\nimport StackedBars from './StackedBars'\nimport './index.css'\n\nexport default function Dataset() {\n    return (\n        <div>\n            <section>\n                <h4 className=\"text subhead\">The Dataset</h4>\n                <p>\n                    The dataset comes from Barbara Gray, the chief librarian at the Craig Newmark Graduate School of Journalism at CUNY, who submitted a FOIL request as part of her ongoing Landlords Project. This information on the income and expenses of city landlords, in conjunction with other datasets, can reveal the complexities and trends of the persisting housing crisis in New York and its impact on housing equity. The data originates from the NYC Department of Taxation and Finance and contains what landlords make and spend. The city requires owners of buildings with 10 or more income-generating units that amount to more than $40,000, to file <a href='https://www1.nyc.gov/site/finance/taxes/property-rpie.page' target='_blank'>income and expense statements</a> with the Department of Finance on a yearly basis. While these forms are considered private and exempt from FOIL request, it is when the landlord appeals their tax bill, and files a Tax Commission Income and Expense form, that the data can be FOILed. The dataset spans from 2005 through 2020 (the respective incomes and expenses are of the previous year), with 2008, 2013 and 2017 filings still to be received.\n                </p>\n                <p>\n                    Each filing is identified by a BBL, a <a href='https://nycplanning.github.io/Geosupport-UPG/chapters/chapterVI/section03/' target='_blank'>number unique to individual city tax lots and buildings</a> that identifies its location through three numerically-coded components: borough (1 digit) + block (5 digits that can include leading zeros) + lot (4 digits that can include leading zeros).\n                </p>\n                <div className='highlight-box' style={{ width: '80%', margin: '0 auto' }}>\n                    BBL <b><span style={{ color: '#8843F2' }}>1</span><span style={{ color: '#EF2F88' }}>00247</span><span style={{ color: '#F47340' }}>0001</span></b>, located at 265 Cherry Street in Chinatown, can be split into:\n                    <br />\n                    <ul>\n                        <li><span style={{ color: '#8843F2', fontWeight: 'bold' }}>1</span> (borough of Manhattan)</li>\n                        <li><span style={{ color: '#EF2F88', fontWeight: 'bold' }}>00247</span> (block)</li>\n                        <li><span style={{ color: '#F47340', fontWeight: 'bold' }}>0001</span> (lot)</li>\n                    </ul>\n                </div><br />\n                <p>\n                    NYC has approximately a million tax lots that included privately and publicly-owned parcels made up of some 800,000 buildings. Addresses are <a href='https://nycplanning.github.io/Geosupport-UPG/chapters/chapterVI/section03/' target='_blank'>not necessarily enough to identify</a> unique buildings as some have more than one address, no address or shared addresses. The <a href='https://portal.311.nyc.gov/article/?kanumber=KA-01247' target='_blank'>number is used</a> when paying property taxes and on NYC Department of Finance and tax forms.\n                </p>\n                <p>\n                    The TCIE dataset contains 29,298 unique BBLs.\n                </p>\n                <p>\n                    This set of filings over time tells us how these variables, in association with individual buildings, changed over time. While the dataset does not contain every landlord's income and expenses, the large number of those who challenge their tax bill amounts a good sample of tens of thousands per year. Given these individual filings, in cases where a building appears in multiple years, we can observe outliers in terms of, for example, income increases that might suggest profit-driven tendencies. And with this sizable number of data points, we also have a historical snapshot of how a landlord's rent-stabilized income versus their market-rate income has changed. An increase in the latter would imply that they flipped rent-stabilized units to market-rate, and in the process displace tenants in pursuit of maximizing assets.\n                </p>\n                <p>\n                    The TCIE dataset will be made public in 2022. <a href='mailto:barbara.gray@journalism.cuny.edu'>Contact Barbara Gray</a> if interested in more information.\n                </p>\n                <h5 className=\"subsubhead\">Pulling in Other Datasets</h5>\n                <p>\n                    In \"<a href='https://medium.com/justfixnyc/examining-the-myth-of-the-mom-and-pop-landlord-6f9f252a09c' target='_blank'>Examining the Myth of the 'Mom-and-Pop' Landlord</a>,\" Sam Rabiyah, the data lead and engineer at the housing justice organization <a href='https://www.justfix.nyc/' target='_blank'>JustFix.nyc</a>, details key findings of the group's analysis of city landlords who owned rent-regulated housing properties. \"Larger landlords,\" or those with a sizable portfolio of more than 20 buildings, own about half of the city's rent-regulated properties.\n                    Also of note, larger landlords conducted \"more than half of all executed evictions in 2018.\" \n                </p>\n                <p>\n                    To conduct their study, JustFix.nyc used its <a href='https://whoownswhat.justfix.nyc/' target='_blank'>Who Owns What</a> database tool to \"rebalance the power dynamic between landlords and tenants\" and let users map the expanse of their landlord's portfolio using an algorithm based on the NYC Department of Housing Preservation and Development's registration data for residential properties. The database also <a href='https://whoownswhat.justfix.nyc/en/how-it-works' target='_blank'>pulls from numerous publicly available housing-related data</a> from the city agencies and advocacy organizations. Such projects of gathering these various datasets such as housing violations, 311 maintenance complaints, evictions, among others, in a central searchable location and including maps and other visuals have also been done by other housing groups and government agencies. These sources provide a comprehensive view for tenants and advocates see whether their residential building or neighborhood, or others of interest, possess troubling signs. Joining different datasets together also shows the multitude of potential indicators of speculation, with many of that data being publicly available. I gathered some of these databases in a spreadsheet that I included in the digital component of my capstone. \n                    <p />\n                    <button className='button'><a href='https://airtable.com/shrgUn4Gw76RzAFDU' target='_blank' className='button--link'>Browse Housing Databases</a></button>\n                </p>\n                <p>\n                    For this project, I worked at a smaller scale and combined the TCIE data with the NYC Department of City Planning's <a href='https://www1.nyc.gov/site/planning/data-maps/open-data/dwn-pluto-mappluto.page' target='_blank'>Primary Land Use Tax Output</a> (PLUTO) dataset. With the majority of the BBLs in the TCIE set included in the PLUTO list (27,699 out of 29,298), I could add information on addresses, approximate neighborhoods, boroughs and ownership, as of 2021. All visualizations below are based on the joined TCIE-Pluto dataset. \n                </p>\n                <p>\n                    Concerned about attempting to communicate the complexities of these issues through visualizations within the timeframe of the capstone, I decided to approach the project from the angle of \"visualizing for analysis,\" as <a href='https://flowingdata.com/2021/10/21/process-162-aspects/' target='_blank'>Nathan Yau describes in Flowing Data</a>. Unlike \"visualizing for communication\" with a target audience in mind, in the case of visualizing for yourself:</p>\n                <p>\n                    <blockquote>...you’re still looking for something interesting. You haven’t found it yet, so you visualize the data itself. You start with generic and default charts and work your way towards more specific visual and unique forms.</blockquote>\n                </p>\n                <p>\n                    Following this scope, the visuals below are made with the perspective in mind of someone using the data for stories – perhaps one that starts with a neighborhood or a building, followed by the experiences of the residents there, before and during the pandemic – whether that be a journalist, an analyst, or an advocate intent on avoiding generalizations or erasing the nuances and disparities of the people and families that can easily get overlooked in aggregated data. Perhaps this series of visualizations can involve what Jer Thorp, in his book \"Living in Data,\" calls \"question framing\" where a visualization rather than simplify, reveals complexities, \"exposing things that weren't before able to be seen\" (Thorp 15). That with each successive visualization, more questions and more potential directions emerge.\n                </p>\n                <p>\n                    But first, to get an idea of the shape of the data, I started with a \"generic\" bar chart to see the number of TCIE filings categorized by year and borough. \n                </p>\n                <StackedBars />\n                <p>The chart provides an overall view that shows:</p>\n                <ul>\n                    <li>Filings number in the thousands each year</li>\n                    <li>Most of the filings (nearly 45%) are of buildings in Manhattan</li>\n                    <li>Increase in filings in more recent years</li>\n                </ul><br />\n                <p>\n                    While there are plenty of reasons to visualize aggregated data, for the purposes of this capstone and the intent of finding individual stories, we can try to go a bit deeper.\n                </p>\n\n            </section>\n        </div>\n    )\n}","import React from \"react\"\nimport './index.css'\n\nexport default function Portfolios() {\n    return (\n        <div>\n            <section>\n                <h4 className=\"subhead\">Portfolios</h4>\n                <p>\n                    The proceeding visualizations will touch on real estate speculation.\n                </p>\n                <p>\n                    In \"Capital City: Gentrification and the Real Estate State,\" Samuel Stein explains that in determining where to invest, speculators look for a gap between the rents in the location and:\n                </p>\n                <blockquote>\n                    the potential future rents it might command if some action were taken, such as evicting long-term tenants, renovating neglected or unstylish properties, or demolishing and reconstructing buildings (Stein 58).\n                </blockquote>\n                <p>\n                    To the players involved – landlords, investors, lenders – \"declining investment\" in a building represents an opportunity for reinvestment and gentrification (134). At the expense of residents. As is happening during the pandemic – and other periods – when some landlords cannot keep up with mortgage payments, their building faces financial distress, meaning they risk being foreclosed and plummeting value (Hornbach et al. 2020 5). Indicators of distress include lawsuits, code violations, tenant complaints and deferred or disruptive maintenance, the end goal being tenant turnover through disrepair and displacement (Gray 2021). <a href='https://www.forbes.com/sites/forbesbusinesscouncil/2021/04/05/the-dos-and-donts-of-investing-in-distressed-properties/?sh=4d9708f6628f' target='_blank'>Distressed buildings on the verge of foreclosure</a> or already in the hands of a bank or lender attract investors because of their lower market rates. They see it as a chance to buy at a discounted price and will readily do so, given the cyclical nature of the real estate market and consequently the belief that property values undulate and will go up again at some point (Hornbach et al. 2020 5).\n                </p>\n                <p className='highlight-box'>\n                    The CREATE Initiative, a project that studies envrionment and equity, released its \"<a href='https://create.umn.edu/toolkit/' target='_blank'>Sharing in the Benefits of a Greening City</a>\" toolkit, in which the researchers cover key housing concepts such as real estate speculation. It notes that such activity occurs \"where significant changes in value are anticipated\" such as large-scale investments in green infrastructure development (Klein et al. 20). Investors might go after properties in or around those areas years before project completion and in the process, displacing long-time residents, increasing rent and property values; and \"in doing so, speculative practices restrict who is able to access and enjoy the fruits of these investments.\"\n                </p><br />\n                <p>\n                    Given that landlords who have amassed a considerable number of properties can tend toward speculative behavior, I proceeded with a bubble chart of landlords with at least 10 properties found in the original TCIE data. Of course, buildings have changed hands over the past nearly two decades but at least from this collection of more than 25,000 properties, the visualization, color-coded by the borough(s) in which the landlord's buildings are found, gives an idea of the comparatively larger portfolios even in this sample of properties out of the more than 850,000 in the original PLUTO dataset.\n                </p>\n                <p>\n                    As above, this chart would also be meant for the eyes of someone looking for trends and individual areas and properties of interest, intended to give them an idea, not comprehensive insight, into ownership among the TCIE dataset. Though it is also visualizing aggregated data, in this case it can lead one in the direction of, say, specific landlords.\n                </p>\n            </section>\n        </div>\n    )\n}","import React, { useRef, useEffect } from 'react'\nimport * as d3 from 'd3'\nimport './index.css'\n\nexport default function Bubbles() {\n\n    const svgRef = useRef()\n    \n    useEffect(() => {\n        \n    fetch('https://gist.githubusercontent.com/cheje/2b36ef7c3d95611281873910f5536b08/raw/0d7dc284ae90f63a111616e2919d81a985a9e3bd/tcie-owners.json')\n        .then(response => response.json())\n        .then(data=> {\n            console.log(data)\n\n            // tutorial: https://www.webtips.dev/how-to-make-interactive-bubble-charts-in-d3-js\n\n            const width = 600;\n            const height = 600;\n\n            const colors = {\n                'Manhattan': '#3A0CA3',\n                'Bronx': '#7209B7',\n                'Brooklyn': '#F72585',\n                'Bronx, Manhattan': '#4361EE',\n                'Brooklyn, Manhattan, Queens': '#4CC9F0',\n                'Manhattan, Bronx, Brooklyn': '#4CC9F0',\n                'Queens': '#4CC9F0'\n            };\n\n            const bubble = data => d3.pack()\n            .size([width, height])\n            .padding(3)(d3.hierarchy({ children: data }).sum(d => d.buildings));\n    \n        const svg = d3.select(svgRef.current)\n            .style('width', width)\n            .style('height', height);\n        \n        const root = bubble(data);\n        const tooltip = d3.select('.tooltip');\n    \n        const node = svg.selectAll()\n            .data(root.children)\n            .enter()\n            .append('g')\n            .attr('transform', d => `translate(${d.x}, ${d.y})`);\n        \n        const circle = node.append('circle')\n            .attr('r', d => d.r)\n            .style('fill', d => colors[d.data.boro_names])\n            .style('opacity', '0.7')\n            .on('mouseover', function (e, d) {\n                tooltip.select('span')\n                .attr('class', 'tooltip-text')\n                .html(`<span style=\"font-weight:bold; color:#FFC900;\">${d.data.ownername}</span> owns <span style='font-weight:bold; color:#FFC900;' }}>${d.data.buildings} properties</span> (in <span style=\"font-weight:bold; color:#FFC900;\">${d.data.boro_names}</span>) found in the TCIE data.`)\n                tooltip.style('visibility', 'visible');\n    \n                d3.select(this).style('stroke', '#fff');\n            })\n            .on('mousemove', e => tooltip.style('top', `${e.pageY}px`)\n                                         .style('left', `${e.pageX + 10}px`))\n            .on('mouseout', function () {\n                d3.select(this).style('stroke', 'none');\n                return tooltip.style('visibility', 'hidden');\n            })\n        \n        const label = node.append('text')\n            .attr('dy', 2)\n            .text(d => d.data.ownername.substring(0, d.r / 4))\n            .attr('class', 'text--bubbles')\n        \n        circle.transition()\n            .ease(d3.easeExpInOut)\n            .duration(1000)\n            .attr('r', d => d.r);\n        \n        label.style('opacity', d => d.data.buildings >= 20 ? 1 : 0)\n       \n       })\n    }, [])\n    \n    \n\n    return (\n        <div style={{ width: '70vw', margin: '0 auto' }}>\n            <div className='flex-container-bubble'>\n                <div className='flex-child vis-caption'>\n                    <div className='chart--title'>Who Owns the Most Buildings?</div>\n                    <br />These landlords have amassed the highest number of properties found in the TCIE data. As indicated in <span style={{ color: '#3A0CA3', fontWeight: 'bold' }}>purple</span>, many of these portfolios are made up of buildings in <span style={{ color: '#3A0CA3', fontWeight: 'bold' }}>Manhattan</span>. Hover over a bubble to see details.<br /><br />\n                    <p className='vis-caption-small'>Data sources: TCIE, PLUTO</p>\n                </div>\n                <div className='flex-child'>\n                    <svg ref={svgRef} style={{ display: 'block', margin: 'auto' }}></svg>\n                    <div className=\"tooltip\">\n                        <img alt=\"\" />\n                        <div>\n                            <a></a>\n                            <span></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}","import React from \"react\"\nimport './index.css'\n\nexport default function CR() {\n    return (\n        //<div style={{ boxShadow: `5px 8px 20px rgba(0, 0, 0, 0.2)` }}>\n        <div>\n            <section>\n                <h5 className=\"subsubhead\">Cap Rates, a Qualitative Indicator</h5>\n                <p>\n                    For the Landlords Project, <a href='https://www.linkedin.com/in/kate-a-ham' target='_blank'>Kate Ham</a>, housing justice advocate pursuing a UC Berkeley master of city planning degree, added a capitalization rate variable for the TCIE dataset, which they pulled from public records. A low cap rate suggests a greater level of risk going into the purchase and can thereby indicate who speculated going into a sale. Similarly, income and expenses before, after and within the year of when the sale was sold can also help us see if speculation is occurring. For example, given a property's history, were there any unusually high or low expenses? They noted that in a conversation with Jacob Udell of the <a href='https://unhp.org/' target='_blank'>University Neighborhood Housing Program</a>, he said that the most accurate cap rates should be in the year a building was sold <i>when that year is within a year of the TCIE filing year</i>, whether that be the year before, after or of the year of the filing. This generated cap rates for some 3,500 different properties. The lower the cap rate, namely at the 3.5 and below threshold, the greater the likelihood of speculative behavior. How a cap rate is derived, as noted below, implies that lower rates result from lower incomes (numerator) relative to the market value of a building.\n                </p>\n                <p>\n                    Cap rates can serve as a qualitiative variable in helping to suspect potentially distressed housing. The NYC Department of Housing Preservation and Development analyzes cap rates when populating its <a href='https://data.cityofnewyork.us/Housing-Development/Speculation-Watch-List/adax-9mit' target='_blank'>Speculation Watch List</a>, of mostly rent-regulated multiple dweeling units. HPD compares a property's cap rate, which it <a href='https://www1.nyc.gov/site/hpd/about/speculation-watch-list.page' target='_blank'>describes</a> as the building's \"net operating income divided by its sales price\" to the median cap rate of similar properties purchased in the same borough. Those with cap rates below the median value of the borough make the list. In their \"<a href='https://www1.nyc.gov/assets/hpd/downloads/pdfs/services//speculation-watch-list-adopted-rules.pdf' target='_blank'>Statement of Basis and Purpose</a>\" for the speculation watch list, HPD states: <br /><br />\n                    <blockquote>\"Such below average Capitalization Rates suggest purchase prices exceeding the value of these properties, which is based upon their net operating income. When a purchaser is willing to pay more than the property value, it indicates a greater potential for tenant harassment so that the purchaser can recoup its inflated purchase price through forcing tenants out in order to escalate rents.\"</blockquote>\n                </p>\n                <p>\n                    In its explanation on the cap rate, the <a href='https://homevestorsfranchise.com/blog/northeast/2021/04/understanding-cap-rates-in-nyc-the-basics-you-need-to-know/' target='_blank'>HomeVestors Franchise</a> notes that the net operating income in the equation is that of \"after expenses\"; this NOI is divided by the \"current market value\" and not what the landlord had paid for the building as \"any renovations or improvements you do will affect the market value and, subsequently, the cap rate.\" \n                </p>\n                <p>\n                    With this understanding of how expenses factor into determining cap rates, we can use the two variables to transition from visualizations of aggregated data to those of actual data point, and outliers, and start moving in the direction of finding potential buildings of interest.\n                </p>\n                \n            </section>\n        </div>\n    )\n}","import React, { useRef } from 'react';\nimport './index.css';\nimport * as d3 from 'd3';\nimport scrollama from 'scrollama';\n\nexport default function Scrollytelling() {\n  const svgRef = useRef();\n\n  d3.json('https://gist.githubusercontent.com/cheje/19f1b2cd100181c85f5c59f5e9d7be9f/raw/64d74131a9bef399456fd212e167826b96cc1acd/nyc-boroughs.geojson')\n        //.then(response => response.json())\n        .then(data => {\n            console.log(data[1])\n\n        const width = 800\n\t\tconst height = 750\n\n        const svg = d3.select(svgRef.current)\n            .attr('width', width)\n            .attr('height', height);\n\n        const projection = d3.geoAlbers()\n            .fitSize([800, 750], data);\n\n        svg.append(\"g\")\n            .selectAll(\"path\")\n            .data(data.features)\n            .enter()\n            .append(\"path\")\n            .attr('fill', '#d0d9cd')\n            .attr(\"d\", d3.geoPath()\n            .projection(projection))\n            .style(\"stroke\", 'rgba(255,255,255,0.5)')\n            \n          svg.append('text')\n            .attr('x', '50%')\n            .attr('y', '85%')\n            .html(`Data sources: NYC Planning (<a href='https://www1.nyc.gov/site/planning/data-maps/open-data/census-download-metadata.page' target='_blank'>NTAs GeoJSON</a>), TCIE, PLUTO`)\n            .attr('class', 'vis-caption-small')\n\n\n          d3.json(\"https://gist.githubusercontent.com/cheje/fb731829fb4fe824f32f675c9fca880f/raw/0125a55d280661b27ac2686d90e3bc42a27c438c/tcie-points.geojson\")\n          .then(points => {\n            const plot = svg.selectAll()\n                .data(points.features)\n                .enter()\n                .append(\"circle\")\n                .attr(\"cx\", d => projection(d.geometry.coordinates)[0])\n                .attr(\"cy\", d => projection(d.geometry.coordinates)[1])\n\n        function all() {\n            plot.attr(\"r\", \"1\")\n            .style(\"fill\", 'rgba(115, 85, 111, 0)')\n            .style('stroke', '#8C6887')\n        }\n\n        // expenses filter\n        function exp() {\n            plot.transition()\n            .duration(1000)\n            .style('stroke', d => (+d.properties.exp_pct <= 35 && d.properties.exp_pct !== null) ? 'rgba(242, 89, 82, 1)' : 'rgba(140, 104, 135, 0.5)')\n            .style('fill', d => (+d.properties.exp_pct <= 35 && d.properties.exp_pct !== null) ? 'rgba(242, 89, 82, 0)' : 'rgba(140, 104, 135, 0)')\n        }\n\n        // cap rate filter (removed +d.properties.cr_pct > 0)\n        function cr() {\n            plot.transition()\n            .duration(1000)\n            .attr('r', d => (+d.properties.cr_pct <= 3.5 && +d.properties.cr_pct !== null) ? 2 : 1)\n            .style('stroke', d => (+d.properties.cr_pct <= 3.5 && d.properties.cr_pct !== null) ? '#FFEB4D' : 'rgba(140, 104, 135, 0.5)')\n            .style('fill', d => (+d.properties.cr_pct <= 3.5 && d.properties.cr_pct !== null) ? '#FFEB4D' : 'rgba(140, 104, 135, 0)')\n        }\n\n        \n        \n        const callbacks = [\n            all, exp, cr, cr, cr,\n          ];\n      \n          const steps = d3.selectAll('.step');\n      \n          // instantiate the scrollama\n          const scroller = scrollama();\n      \n          // setup the instance, pass callback functions\n          scroller\n            .setup({\n              step: '.step',\n            })\n            .onStepEnter((response) => {\n              callbacks[response.index]()\n              //steps.style('opacity', 0.1)\n              d3.select(response.element).style('opacity', 1)\n            })\n            .onStepExit((response) => {})\n        })\n    }, [])\n\n  return (\n        <div className=\"container\">\n          <svg id=\"chart\" ref={svgRef}></svg>\n          <div class=\"steps\">\n            <div class=\"step\">\n              When plotting the 25,000 TCIE buildings found in the PLUTO set, a general shape of the five boroughs emerges. While the stacked bar chart showed raw TCIE filing counts of those buildings by year and borough, this map reveals where they are approximately located within the boroughs – while driving home the dominance of properties located in Manhattan. But how might we navigate through these tens of thousands of points?\n            </div>\n            <div class=\"step\">\n              Here, properties with a history of a landlord spending under 35 percent of their total real estate income on operating expenses are marked in red. For these 12,700+ buildings, in some year between 2004 and 2019, according to TCIE filings, the landlord spent just above a third of their income on expenses. While this would be explained by a multitude of factors, one of them could be that the landlord is deferring maintenance as a tactic to push out tenants, especially in gentrifying neighborhoods (Hornbach et al. 10). This is one of numerous ways to narrow down a bit to buildings of interest.\n            </div>\n            <div class=\"step\">\n              Cap rates of 3.5 or lower (including negative cap rates, which would involve a negative net operating income, for example in cases where operating costs exceed income) provide another way to filter out some of the data points as seen in the less visible but still apparent spots of yellow.\n            </div>\n            <div class='step'>\n              Continuing with using expenses and cap rates, of a certain threshold, as an approach to filtering through the data, we can isolate those points on an interactive map and find characteristics of those individual buildings through a table and chart.\n            </div>\n          </div>\n        </div>\n  );\n}\n","import React from 'react'\nimport './index.css'\nimport expensesSS from './img/shiny-expenses.png'\nimport crSS from './img/shiny-cr.png'\n\nexport default function Shiny() {\n    return(\n        <section>\n            <div style={{ paddingBottom: '50px' }}>\n                <p>Explore them in the dashboards linked below. Thousands of points still remain but in this case, you can zoom in to specific regions and see not just buildings with potential risk of speculation, but also regions where clusters exist. In those cases, large-scale development projects might be on the horizon.</p>\n                \n            </div>\n            <div className='flex-container-shiny'>\n                <div className='flex-child'>\n                    <ul>\n                        <li>Map and table of properties that at some point between 2004-2019 had expenses as 35% or lower of their income</li>\n                        <li>Chart and table of expense history for all properties in the TCIE-PLUTO dataset</li>\n                    </ul>\n                </div>\n                <div className='flex-child'>\n                    <a href='https://jenche.shinyapps.io/lpexp/' target='_blank'><img width='400px' alt='Screenshot of expenses dashboard' src={expensesSS} style={{ boxShadow: '1px 2px 5px rgba(0, 0, 0, 0.1)' }}/></a>\n                    <button className='button'><a href='https://jenche.shinyapps.io/lpexp/' target='_blank' className='button--link'>EXPENSES</a></button>\n                </div>\n            </div>\n            <br />\n            <div className='flex-container-shiny'>\n                <div className='flex-child'>\n                    <ul>\n                        <li>Map of properties that at some point between 2004-2019 had a cap rate of under 3.5</li>\n                        <li>Table of same data includes all years where a property had a cap rate under 3.5</li>\n                    </ul>\n                </div>\n                <div className='flex-child'>\n                    <a href='https://jenche.shinyapps.io/lpcr/' target='_blank'><img width='400px' src={crSS} alt='Screenshot of cap rates dashboard' style={{ boxShadow: '1px 2px 5px rgba(0, 0, 0, 0.1)' }}/></a>\n                    <button className='button'><a href='https://jenche.shinyapps.io/lpcr/' target='_blank' className='button--link'>CAP RATES</a></button>\n                </div>\n            </div>\n            <div style={{ padding: '50px 0 35px 0' }}>\n            <p>\n                The visualizations above have been presented as a sort of behind-the-scenes means of finding buildings where real estate speculation, and forms of profit over tenants, might be occurring. Using variables such as expense, cap rate history and geographic location can help narrow down the original data into points that might guide journalists, advocates, researchers or residents in potentially helpful directions for further investigation.\n            </p>\n            <p>\n                In the final visualization for my project, rather than pinpointing buildings or areas of possible interest based on the visuals so far, I looked for some residential buildings covered in 2021 in local NYC media outlets in the context of rezoning, complaints, gentrification and maintenance, and other possibilities of distress. I then worked backwards to see whether they were part of the TCIE-PLUTO dataset, and if so, what kind of expense history they had. This part is not meant to imply correlation or any direct influence between expenses and the speculative status of a building but rather to show how the expense history might help to look into property histories.\n            </p>\n            <p style={{ textAlign: 'center', fontFamily: 'Roboto Condensed', textTransform: 'uppercase', fontWeight: 'bold', fontSize: '0.9em' }}>Scroll down &nbsp;&nbsp;<i class=\"arrow arrow-down\"></i></p>\n            </div>\n        </section>\n    )\n}","import React, { Component } from 'react';\nimport './Map3D.css';\nimport mapboxgl from 'mapbox-gl';\nimport scrollama from 'scrollama';\n\nconst layerTypes = {\n    'fill': ['fill-opacity'],\n    'line': ['line-opacity'],\n    'circle': ['circle-opacity', 'circle-stroke-opacity'],\n    'symbol': ['icon-opacity', 'text-opacity'],\n    'raster': ['raster-opacity'],\n    'fill-extrusion': ['fill-extrusion-opacity']\n}\n\nconst alignments = {\n    'left': 'lefty',\n    'center': 'centered',\n    'right': 'righty'\n}\n\nconst transformRequest = (url) => {\n    const hasQuery = url.indexOf(\"?\") !== -1;\t  \n    const suffix = hasQuery ? \"&pluginName=journalismScrollytelling\" : \"?pluginName=journalismScrollytelling\";\t  \n    return {\n      url: url + suffix\n    }\t  \n}\n\nclass Map extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentChapter: props.chapters[0]\n        };\n        // this.setState = this.setState.bind(this);\n    }\n\n    componentDidMount() {\n        const config = this.props;\n        const mapStart = config.chapters[0].location;\n\n        mapboxgl.accessToken = config.accessToken;\n\n        const map = new mapboxgl.Map({\n            container: this.mapContainer,\n            style: config.style,\n            center: mapStart.center,\n            zoom: mapStart.zoom,\n            pitch: mapStart.pitch,\n            bearing: mapStart.bearing,\n            transformRequest: transformRequest\n        });\n\n        const marker = new mapboxgl.Marker();\n        if (config.showMarkers) {\n            marker.setLngLat(mapStart.center).addTo(map);\n        }\n\n        function getLayerPaintType(layer) {\n            var layerType = map.getLayer(layer).type;\n            return layerTypes[layerType];\n        }\n\n        function setLayerOpacity(layer) {\n            var paintProps = getLayerPaintType(layer.layer);\n            paintProps.forEach(function(prop) {\n                map.setPaintProperty(layer.layer, prop, layer.opacity);\n            });\n        }\n\n        const setState = this.setState.bind(this);\n\n        // instantiate the scrollama\n        const scroller = scrollama();\n\n        map.on('load', function () {\n\n            // setup the instance, pass callback functions\n            scroller\n            .setup({\n                step: '.step',\n                offset: 0.5,\n                progress: true\n            })\n            .onStepEnter(response => {\n                const chapter = config.chapters.find(chap => chap.id === response.element.id);\n                setState({currentChapter:chapter});\n                map.flyTo(chapter.location);\n                if (config.showMarkers) {\n                    marker.setLngLat(chapter.location.center);\n                }\n                if (chapter.onChapterEnter.length > 0) {\n                    chapter.onChapterEnter.forEach(setLayerOpacity);\n                }\n            })\n            .onStepExit(response => {\n                var chapter = config.chapters.find(chap => chap.id === response.element.id);\n                if (chapter.onChapterExit.length > 0) {\n                    chapter.onChapterExit.forEach(setLayerOpacity);\n                }\n            });\n        });\n\n        window.addEventListener('resize', scroller.resize);\n    }\n\n    render() {\n        const config = this.props;\n        const theme = config.theme;\n        const currentChapterID = this.state.currentChapter.id;\n        return (\n            <div style={{ position: 'relative' }}> {/*, boxShadow: `5px 8px 10px rgba(0, 0, 0, 0.05)`*/}\n                <div ref={el => this.mapContainer = el} className=\"absolute top right left bottom\" />\n                <div id=\"story\">\n                    {config.title &&\n                        <div id=\"header\" className={theme}>\n                            <h1>{config.title}</h1>\n                            {config.subtitle &&\n                                <h2>{config.subtitle}</h2>\n                            }\n                            {config.byline &&\n                                <p>{config.byline}</p>\n                            }\n                        </div>\n                    }\n                    <div id=\"features\" className={alignments[config.alignment]}>\n                        {\n                            config.chapters.map(chapter => \n                                <Chapter key={chapter.id} theme={theme} {...chapter} currentChapterID={currentChapterID}/>\n                            )\n                        }\n                    </div>\n                    {config.footer &&\n                        <div id=\"footer\" className={theme}>\n                            <p>{config.footer}</p>\n                        </div>\n                    }\n                </div>\n            </div>\n        );\n    }\n\n}\n\nfunction Chapter({id, theme, title, image, description, link, headline, currentChapterID}) {\n    const classList = id === currentChapterID ? \"step active\" : \"step\";\n    return (\n        <div id={id} className={classList}>\n            <div className={theme}>\n                { title &&\n                    <h3 className=\"title\">{title}</h3>\n                }\n                { image &&\n                    <img src={image} alt={title}></img>\n                }\n                { description &&\n                    <p>{description}</p>\n                }\n                { link &&\n                    <p>Source: <a href={link} target='_blank'>{headline}</a></p>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Map;\n","var config = {\n    style: 'mapbox://styles/jenche/ckxy9mihs40ew14phbjizimgm',\n    accessToken: `${process.env.REACT_APP_MAPBOX_TOKEN}`,\n    showMarkers: false,\n    alignment: 'right',\n    theme: 'light',\n    //title: 'Glaciers of Glacier National Park',\n    //subtitle: 'Change in coverage from 1998 to 2015',\n    //byline: '',\n    //footer: 'Source: Story text from Wikipedia, August 2019. Data from <a href=\"https://www.usgs.gov/centers/norock/science/retreat-glaciers-glacier-national-park\">USGS</a>',\n    chapters: [\n        {\n            id: '',\n            //title: 'Distressed Buildings',\n            //image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/2015-06-19_Glacier_National_Park_%28U.S.%29_8633.jpg/800px-2015-06-19_Glacier_National_Park_%28U.S.%29_8633.jpg',\n            description: 'Scroll through to see residential buildings that have been covered by local news outlets for reasons that might suggest speculation on the part of the owner.',\n            location: {\n                center: [-74.006, 40.7128],\n                zoom: 10,\n                pitch: 0.00,\n                bearing: 0.00\n            },\n            onChapterEnter: [\n                // {\n                //     layer: 'gnpglaciers-1998',\n                //     opacity: 0.25\n                // },\n                // {\n                //     layer: 'glaciernp-boundary',\n                //     opacity: 0.25\n                // }\n            ],\n            onChapterExit: [\n                // {\n                //     layer: 'glaciernp-boundary',\n                //     opacity: 0\n                // }\n            ]\n        },\n        {\n            id: '1002470001',\n            title: '247 Cherry Street, 275 South Street (Manhattan)',\n            //image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/2015-06-19_Glacier_National_Park_%28U.S.%29_8633.jpg/800px-2015-06-19_Glacier_National_Park_%28U.S.%29_8633.jpg',\n            description: 'Two Bridges highrises planned for the Lower East Side waterfront',\n            link: 'https://boweryboogie.com/2021/11/chetrit-buys-into-two-bridges-waterfront-while-starrett-lists-for-100m/',\n            headline: 'Chetrit Buys into Two Bridges Waterfront While Starrett Lists for $100M',\n            location: {\n                center: [-73.98904, 40.71183],\n                zoom: 16.5,\n                pitch: 75,\n                bearing: -20\n            }\n        },\n        {\n            id: '1004090043',\n            title: '101 Delancey Street, 130 Orchard Street (Manhattan)',\n            //image: '',\n            description: '',\n            link: 'https://boweryboogie.com/2021/06/landlord-michael-shah-nabs-sago-hotel-on-orchard-street-for-8-5m/',\n            headline: 'Landlord Michael Shah Nabs Sago Hotel on Orchard Street for $8.5M',\n            location: {\n                center: [-73.98891, 40.71849],\n                zoom: 18,\n                pitch: 75,\n                bearing: 25\n            }\n        },\n        {\n            id: '3023770002',\n            title: '252 Kent Avenue (Brooklyn)',\n            description: '',\n            link: 'https://www.brooklynpaper.com/city-council-votes-to-approve-river-ring-clearing-the-way-for-massive-waterfront-williamsburg-development/',\n            headline: 'City Council votes to approve River Ring, clearing the way for massive waterfront Williamsburg development',\n            location: {\n                center: [-73.96614, 40.71654],\n                zoom: 18,\n                pitch: 75,\n                bearing: 25\n            }\n        },\n        {\n            id: '3011920085',\n            title: '1035 Washington Avenue (Brooklyn)',\n            description: '',\n            link: 'https://www.brooklynpaper.com/locals-blast-proposed-crown-heights-development-at-city/',\n            headline: 'Locals blast proposed Crown Heights development at City Planning Hearing',\n            location: {\n                center: [-73.96066, 40.66445],\n                zoom: 18,\n                pitch: 75,\n                bearing: 25\n            }\n        },\n        {\n            id: '4000460050',\n            title: '47-07 Vernon Boulevard, 10-12 47 Avenue (Queens)',\n            description: '',\n            link: 'https://qns.com/2021/12/new-survey-shows-hunters-point-is-third-most-apartment-crazed-neighborhood-in-u-s/',\n            headline: 'Hunters Point New survey shows Hunters Point is third most apartment-crazed neighborhood in U.S.',\n            location: {\n                center: [-73.95296, 40.74519],\n                zoom: 18,\n                pitch: 75,\n                bearing: 25\n            }\n        },\n        {\n            id: '4017210008',\n            title: '106-18 Northern Boulevard (Queens)',\n            description: '',\n            link: 'https://qns.com/2021/05/planned-25-story-luxury-development-in-corona-slated-for-completion-in-2024/',\n            headline: 'Corona Planned 25-story luxury development in Corona slated for completion in 2024',\n            location: {\n                center: [-73.86213, 40.75752],\n                zoom: 18,\n                pitch: 75,\n                bearing: 25\n            }\n        }\n    ]\n};\n\nexport default config;","import React from \"react\"\nimport './index.css'\n\nexport default function End() {\n    return (\n        <div style={{ paddingBottom: \"45px\"}}>  {/*, boxShadow: `inset 0 -8px 8px -10px rgba(0, 0, 0, 0.9)` }*/}\n            <section className='vis-caption'>Code source: Mapbox's <a href='https://blog.mapbox.com/how-to-build-a-scrollytelling-map-ead6baf2cd1b' target='_blank'>Interactive Storytelling template</a>\n\n                <p style={{ paddingTop: '1em' }}>\n                <span style={{ textTransform: 'uppercase', fontWeight: 'bold', fontFamily: 'Roboto Condensed'}}>Thank you</span> [names]\n                </p>\n            </section>\n        </div>\n    )\n}","import React from \"react\"\nimport './index.css'\nimport ghLogo from './img/GitHub-Mark-Light-64px.png'\n\nexport default function Footer() {\n    return (\n        <div style={{ justifyContent: 'flex-end'}} className='footer--links'>\n            {/* <section style={{ display: 'flex', justifyContent: 'flex-end' }}> */}\n            <section style={{ color: '#ffffff' }}>\n                    <a href='https://github.com/cheje/csgc' target='_blank'><img width='15px' alt='GitHub logo' src={ghLogo}/></a>&nbsp;&nbsp;\n                    {/* <a href='https://jenche.shinyapps.io/lpcr/' target='_blank'>Data sources</a>&nbsp;|&nbsp;\n                    <a href='https://jenche.shinyapps.io/lpcr/' target='_blank'>Methodology</a>&nbsp;|&nbsp; */}\n                    <a href='https://natural-twill-b5c.notion.site/Resources-9110b585bb174d8cb6d217474b3f891d' target='_blank'>Resources</a>&nbsp;|&nbsp;\n                    <a href='mailto:jcheng1@gradcenter.cuny.edu' target='_blank'>Email</a>&nbsp;&nbsp;\n            </section>\n        </div>\n    )\n}","import React from \"react\"\nimport './index.css'\nimport Header from \"./Header\"\nimport Introduction from \"./Introduction\"\nimport Dataset from \"./Dataset\"\nimport Portfolios from './Portfolios'\nimport Bubbles from './Bubbles'\nimport CR from \"./CR\"\nimport Scrollytelling from './Scrollytelling'\nimport Shiny from './Shiny'\nimport Map3D from \"./Map3D\"\nimport config from './config.js'\nimport End from \"./End\"\nimport Footer from \"./Footer\"\n\nexport default function App() {\n  return (\n    <div>\n      <Header />\n      <Introduction />\n      <Dataset />\n      <Portfolios />\n      <Bubbles />\n      <CR />\n      <Scrollytelling />\n      <Shiny />\n      <Map3D {...config} />\n      <End />\n      <Footer />\n    </div>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/shiny-expenses.0d6212f1.png\";","module.exports = __webpack_public_path__ + \"static/media/shiny-cr.d8f40791.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII=\""],"sourceRoot":""}